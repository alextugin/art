(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{185:function(e,t,n){var content=n(258);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(29).default)("1fa9b804",content,!0,{sourceMap:!1})},257:function(e,t,n){"use strict";var r=n(185);n.n(r).a},258:function(e,t,n){(t=n(28)(!1)).push([e.i,"#container{height:100%}*{margin:0;padding:0;box-sizing:border-box}canvas{width:100%!important;height:100%}.mainContainer{width:100%;height:100%;position:relative}.inputselectfield{position:absolute;left:10px;top:10px}.selectedGLTF{background-color:#fff;padding:5px 0;margin-bottom:10px;height:30px;border-radius:5px;text-align:center}.controls{position:absolute;bottom:50px;left:50%;transform:translate(-50%)}",""]),e.exports=t},263:function(e,t,n){"use strict";n.r(t);n(87),n(35),n(32),n(15),n(64);var r=n(56);n(30);var o=n(163),c=n(165),l=n(166),d=n(167);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var h=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.meshes=n},m={name:"THREETest",data:function(){return{camera:null,scene:null,renderer:null,gltf:null,orbit_controls:null,transform_controls:null,assets:[],gltf_clicked_name:""}},mounted:function(){var e=this,t=this.$refs.container;this.camera=new o.gb(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,2,2),this.scene=new o.wb,this.light=new o.b(16777215,5.3),this.scene.add(this.light),this.renderer=new o.Pb({antialias:!0}),this.renderer.setClearColor("#121212"),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.gammaFactor=1.5,this.renderer.gammaOutput=!0,t.appendChild(this.renderer.domElement);this.gridHelper=new o.v(50,25),this.scene.add(this.gridHelper);var video=document.getElementById("video");video.onloadeddata=function(){console.log("test"),video.play()};var n=new o.Nb(video);n.minFilter=o.I,n.magFilter=o.I,n.format=o.sb,n.needsUpdate=!0;var r=new o.ib(5,2),c=new o.T({map:n}),f=new o.S(r,c);f.material.side=o.o,f.position.y=1,this.scene.add(f),this.orbit_controls=new l.a(this.camera,this.renderer.domElement),this.orbit_controls.addEventListener("change",(function(){return e.renderer.render(e.scene,e.camera)})),this.transform_controls=new d.a(this.camera,this.renderer.domElement),this.scene.add(this.transform_controls),this.transform_controls.setSize(1),this.transform_controls.addEventListener("change",(function(){e.renderer.render(e.scene,e.camera)})),this.transform_controls.addEventListener("dragging-changed",(function(t){e.orbit_controls.enabled=!t.value}));var m=new o.ub,v=new o.Kb;this.$refs.file.onclick=function(e){return e.stopPropagation()};window.addEventListener("click",(function(t){t.preventDefault(),v.x=t.clientX/window.innerWidth*2-1,v.y=-t.clientY/window.innerHeight*2+1,m.setFromCamera(v,e.camera),e.assets.push(new h("Screen",f));var n=e.assets.map((function(e){return e.meshes})).flat(),r=m.intersectObjects(n,!0);void 0!==r[0]&&(e.transform_controls.attach(r[0].object),r[0].object.traverseAncestors((function(t){if(void 0!==t.userData.asset){var n=t.userData.asset.name;e.gltf_clicked_name=n}})))}),!1),this.animate()},methods:{loadGLTF:function(e){var t=this;(new c.a).parse(e,"",(function(e){var n=prompt("Please Enter 3d Model Name");e.scenes.map((function(o){t.scene.add(o);var c=new h(n,e.scene.children);t.assets.push(c),o.children.forEach((function(e){e.userData=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e.userData,{asset:c})})),t.transform_controls.attach(o)})),e.scene.scale.set(5,5,5),t.renderer.render(t.scene,t.camera)}),(function(e){console.log(e)}))},fileReader:function(e){var t=this,n=this.$refs.file.files[0],r=new FileReader;r.addEventListener("loadend",(function(e){t.loadGLTF(e.target.result)})),e.target.value=null,r.readAsArrayBuffer(n)},controlSelect:function(e){this.transform_controls.setMode(e.target.name)},animate:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)}}},v=(n(257),n(9)),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mainContainer"},[n("div",{ref:"container",attrs:{id:"container"}}),e._v(" "),e._m(0),e._v(" "),n("div",{staticClass:"inputselectfield"},[n("p",{staticClass:"selectedGLTF"},[e._v(e._s(this.gltf_clicked_name))]),e._v(" "),n("div",[n("input",{ref:"file",attrs:{type:"file"},on:{change:e.fileReader}})])]),e._v(" "),n("div",{staticClass:"controls"},[n("button",{attrs:{type:"button",name:"translate"},on:{click:e.controlSelect}},[e._v("\n      Translate\n    ")]),e._v(" "),n("button",{attrs:{type:"button",name:"rotate"},on:{click:e.controlSelect}},[e._v("Rotate")]),e._v(" "),n("button",{attrs:{type:"button",name:"scale"},on:{click:e.controlSelect}},[e._v("Scale")])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("video",{staticStyle:{display:"none"},attrs:{id:"video",type:"video/ogv",autoplay:""}},[t("source",{attrs:{src:"/static/Sintel.ogv",type:"video/ogg"}})])])}],!1,null,null,null);t.default=component.exports}}]);